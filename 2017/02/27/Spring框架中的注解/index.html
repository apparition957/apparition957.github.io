<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="@RestController @RestController结合了@Controller和@ResponseBody方便实现RESTful服务的注解 当返回的是对象时, 会以JSON数据进行传输  @Controller 用于标注控制层组件  @RequestMapping 用于处理请求地址映射的注解, 可用于类或方法上 当作用于类上时, 表示类中的所有响应请求的方法以该注解上的地址作为父级路径">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring框架中的注解">
<meta property="og:url" content="http://apparition957.github.io/2017/02/27/Spring框架中的注解/index.html">
<meta property="og:site_name" content="APPARITION957">
<meta property="og:description" content="@RestController @RestController结合了@Controller和@ResponseBody方便实现RESTful服务的注解 当返回的是对象时, 会以JSON数据进行传输  @Controller 用于标注控制层组件  @RequestMapping 用于处理请求地址映射的注解, 可用于类或方法上 当作用于类上时, 表示类中的所有响应请求的方法以该注解上的地址作为父级路径">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-07-31T12:23:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring框架中的注解">
<meta name="twitter:description" content="@RestController @RestController结合了@Controller和@ResponseBody方便实现RESTful服务的注解 当返回的是对象时, 会以JSON数据进行传输  @Controller 用于标注控制层组件  @RequestMapping 用于处理请求地址映射的注解, 可用于类或方法上 当作用于类上时, 表示类中的所有响应请求的方法以该注解上的地址作为父级路径">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Spring框架中的注解</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects_url">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/02/28/Spring框架中-Controller类下的返回值/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/02/06/利用服务器快速搭建Wordpress/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://apparition957.github.io/2017/02/27/Spring框架中的注解/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&text=Spring框架中的注解"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&is_video=false&description=Spring框架中的注解"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Spring框架中的注解&body=Check out this article: http://apparition957.github.io/2017/02/27/Spring框架中的注解/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&name=Spring框架中的注解&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&t=Spring框架中的注解"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean-Validation-中的-constraint"><span class="toc-number">1.</span> <span class="toc-text">Bean Validation 中的 constraint</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#表-1-Bean-Validation-中内置的-constraint"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">表 1. Bean Validation 中内置的 constraint</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#表-2-Hibernate-Validator-附加的-constraint"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">表 2. Hibernate Validator 附加的 constraint</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Transactional注解中常用参数说明"><span class="toc-number"></span> <span class="toc-text">Transactional注解中常用参数说明</span></a>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Spring框架中的注解
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">APPARITION957</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-02-27T10:33:52.000Z" itemprop="datePublished">2017-02-27</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Spring/">Spring</a>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><code>@RestController</code></p>
<p><code>@RestController</code>结合了<code>@Controller</code>和<code>@ResponseBody</code>方便实现RESTful服务的注解</p>
<p>当返回的是对象时, 会以JSON数据进行传输</p>
<hr>
<p><code>@Controller</code></p>
<p>用于标注控制层组件</p>
<hr>
<p><code>@RequestMapping</code></p>
<p>用于处理请求地址映射的注解, 可用于类或方法上</p>
<p>当作用于类上时, 表示类中的所有响应请求的方法以该注解上的地址作为父级路径</p>
<ul>
<li><p>value</p>
<p><code>@RequestMapping(value=&quot;/&quot;)(显示声明)</code>或 <code>@RequestMapping(&quot;/&quot;)(隐式声明)</code></p>
<p>指定请求的实际路由, 可分为以下三类:</p>
<ol>
<li><p>普通的URI</p>
<p>value=”/demo”</p>
</li>
<li><p>含有某变量的URI</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value=<span class="string">"/get/&#123;year&#125;/&#123;month&#125;/&#123;day&#125;"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>含有正则表达式的URI</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value=<span class="string">"/spring-web/&#123;symbolicName: [a-z-]+&#125;-&#123;version: \d.\d.\d&#125;.&#123;extension: \\.[a-z]&#125;"</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>method</p>
<p><code>@RequestMapping(method=&quot;POST&quot;)</code>或 <code>@RequestMapping(method=RequestMethod.GET)</code></p>
<p>指定请求的method类型</p>
</li>
<li><p>consumes</p>
<p><code>@RequestMapping(consumes=&quot;text/html&quot;)</code></p>
<p>指定处理请求的提交内容类型(Content-Type), 例如:application/json, text/html</p>
</li>
<li><p>produces</p>
<p><code>@RequestMapping(produces=&quot;text/html&quot;)</code></p>
<p>指定返回的内容类型, 当且仅当request请求头里面Accept类型中包含该指定类型才返回</p>
</li>
<li><p>params</p>
<p><code>@RequestMapping(params={&quot;username=kobe&quot;, &quot;password=123456&quot;})</code></p>
<p>指定request中必须包含某些指定的参数值, 才会正常处理该响应</p>
</li>
<li><p>headers</p>
<p><code>@RequestMapping(headers={})</code></p>
<p>指定request中必须包含某些指定的header值  , 才会正常处理该响应</p>
</li>
</ul>
<p>常用的辅助注解:</p>
<p><code>@RequestParam</code></p>
<p>针对于提交的表格信息进行直接获取, 也可以通过HttpServletRequest对表格信息进行间接获取(request.getParameter(“name”))</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 前端代码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/getForm"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"jianpeng"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后端代码</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/getForm"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getForm</span><span class="params">(@RequestForm String name)</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><code>@RequestBody</code></p>
<p>接收JSON对象的字符串形式, 而非JSON对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/getJson"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getJson</span><span class="params">(@RequestBody List&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><code>@PathVariable</code></p>
<p>当@RequestMapping(“/{day}”)中含有动态变量时, 可在响应方法的参数列表中声明该形式参数为路由中的参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/&#123;day&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getDay</span><span class="params">(@PathVariable @DateTimeFormat(iso=ISO.DATE)</span> Date day) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><code>@ResponseBody</code></p>
<p>表示处理函数直接将函数的返回值传回到浏览器端显示</p>
<hr>
<p><code>@Resource</code>与<code>@Autowired</code></p>
<p>都可用于装配bean, 即可写在字段上, 也可写在setter方法上. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 通过在变量上进行注解优先级大于在setter方法上进行注解</span></span><br><span class="line"><span class="comment"> * 因为可以在不暴露setter方法的情况下, 使代码更加紧凑, 提高封装性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过@Resource注解注入与setter形参上变量名称相同的bean</span></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Autowired</code></p>
<p>默认按类型装配(该注解属于Spring框架中), 默认情况下必须要求依赖对象存在, 如果允许null值, 则可以设置它的required属性为false, 如: @Autowired(required=”false”)</p>
<p><code>@Autowired</code>也可指定name来装配bean, 但必须与@Qualifier一起搭配使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span> <span class="meta">@Qualifier</span>(<span class="string">"baseDao"</span>)</span><br><span class="line"><span class="keyword">private</span> BaseDao baseDao;</span><br></pre></td></tr></table></figure>
<p><code>@Resource</code></p>
<p>默认按变量名进行装配(该注解属于JDK中), 名称可以通过name制定, 如: @Resource(name=”baseName”), 但如果一旦按照name制定, 则只会通过name进行装配工作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> BaseDao baseDao;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>虽然两者作用的同一地方的不同部分, 但实际开发工作中的作用是一样的, 最好进行统一即可</strong></p>
</blockquote>
<hr>
<p><code>@Service</code></p>
<p>用于标注业务(服务)层组件</p>
<hr>
<p><code>@Repository</code></p>
<p>用于标注持久层, 即数据访问层(DAO)组件</p>
<hr>
<p><code>@Component</code></p>
<p>泛指组件, 在spring2.5前@Service、@Controller和@Repository三种不同层的注解统称为@Component</p>
<p>在含义不清时可以暂时给一个应用层进行分类时可使用</p>
<hr>
<p><code>@EnableWebMvc</code></p>
<p>完全控制<strong>Spring MVC, 你可以在<code>@Configuration</code>注解的配置类上</strong>增加@EnableWebMvc<strong>, 增加该注解以后<code>WebMvcAutoConfiguration</code>中配置就不会生效, 你需要</strong>自己来配置需要的每一项**. 这种情况下的配置方法建议参考<code>WebMvcAutoConfiguration</code>类</p>
<hr>
<p><code>@Bean</code></p>
<p>用于该类/方法/变量可注册为Bean并交由Spring管理(可通过name指定需要管理的Bean的名字)</p>
<hr>
<p><code>@Value</code></p>
<p>用于从配置文件中获取值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span>(&#123;spring.database.username&#125;)</span><br><span class="line"><span class="keyword">private</span> String username = <span class="string">'root'</span>;</span><br></pre></td></tr></table></figure>
<p>当<code>@Value</code>无法获取值且被注解的变量中存在赋值时, 则使用设计者直接主动赋予的变量值作为默认值</p>
<hr>
<p><code>@Import</code></p>
<p>用于导入不同包下java类文件, 并交由Spring管理其中的已注册的Bean</p>
<hr>
<p><code>@ImportResource</code></p>
<p>用于引入基于XML的配置文件, 同理向上</p>
<ul>
<li><p>locations</p>
<p>从外部导入文件的路径, 有两种形式:</p>
<ul>
<li><p>classpath - 从工程/resource下导入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locations=&#123;<span class="string">"classpath:application-bean1.xml"</span>, <span class="string">"classpath:application-bean2.xml"</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>file - 从系统中以绝对路径的形式导入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locations=&#123;<span class="string">"file:d:/demo/application-bean3.xml"</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<p><code>@EnableAutoConfiguration</code></p>
<p>用于表明Spring Boot可以根据添加的jar依赖猜测你想如何配置Spring</p>
<p>作用于<code>@Configuration</code>下的常见的@EnableXX注解</p>
<p><code>@EnableAspectJAutoProxy</code> 开启对AspectJ自动代理的支持<br><code>@EnableAsync</code> 开启异步方法的支持<br><code>@EnableScheduling</code> 开启计划任务的支持<br><code>@EnableWebMvc</code> 开启Web MVC的配置支持.<br><code>@EnableConfigurationProperties</code>开启对@ConfigurationProperties注解配置Bean的支持.<br><code>@EnableJpaRepositories</code>开启对Spring Data JPA Repository的支持.<br><code>@EnableTransactionManagement</code> 开启注解式事务的支持.<br><code>@EnableCaching</code>开启注解式的缓存支持</p>
<hr>
<p><code>@ComponentScan</code></p>
<p>作用于配置类上, 用于扫描主程序位于的包以及子包下的所有组件(<code>@Component</code>/<code>@Controller</code>/<code>@Service</code>/<code>@Repository</code>)</p>
<hr>
<p>Spring集成了基于JSR-303的Bean Validation框架, 支持设计者进行数据校验工作</p>
<blockquote>
<p>JSR-303是一个数据验证的规范</p>
</blockquote>
<blockquote>
<p>Bean Validation是一个通过配置注解来验证参数的框架, 它包含两部分Bean Validation API和Hibernate Validator. </p>
<ul>
<li>Bean Validation API是Java定义的一个验证参数的规范. </li>
<li>Hibernate Validator是Bean Validation API的一个实现扩展. </li>
</ul>
</blockquote>
<h2 id="Bean-Validation-中的-constraint"><a href="#Bean-Validation-中的-constraint" class="headerlink" title="Bean Validation 中的 constraint"></a>Bean Validation 中的 constraint</h2><h5 id="表-1-Bean-Validation-中内置的-constraint"><a href="#表-1-Bean-Validation-中内置的-constraint" class="headerlink" title="表 1. Bean Validation 中内置的 constraint"></a>表 1. Bean Validation 中内置的 constraint</h5><table>
<thead>
<tr>
<th><strong>Constraint</strong></th>
<th><strong>详细信息</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Null</code></td>
<td>被注释的元素必须为 <code>null</code></td>
</tr>
<tr>
<td><code>@NotNull</code></td>
<td>被注释的元素必须不为 <code>null</code></td>
</tr>
<tr>
<td><code>@AssertTrue</code></td>
<td>被注释的元素必须为 <code>true</code></td>
</tr>
<tr>
<td><code>@AssertFalse</code></td>
<td>被注释的元素必须为 <code>false</code></td>
</tr>
<tr>
<td><code>@Min(value)</code></td>
<td>被注释的元素必须是一个数字, 其值必须大于等于指定的最小值</td>
</tr>
<tr>
<td><code>@Max(value)</code></td>
<td>被注释的元素必须是一个数字, 其值必须小于等于指定的最大值</td>
</tr>
<tr>
<td><code>@DecimalMin(value)</code></td>
<td>被注释的元素必须是一个数字, 其值必须大于等于指定的最小值</td>
</tr>
<tr>
<td><code>@DecimalMax(value)</code></td>
<td>被注释的元素必须是一个数字, 其值必须小于等于指定的最大值</td>
</tr>
<tr>
<td><code>@Size(max, min)</code></td>
<td>被注释的元素的大小必须在指定的范围内</td>
</tr>
<tr>
<td><code>@Digits (integer, fraction)</code></td>
<td>被注释的元素必须是一个数字, 其值必须在可接受的范围内</td>
</tr>
<tr>
<td><code>@Past</code></td>
<td>被注释的元素必须是一个过去的日期</td>
</tr>
<tr>
<td><code>@Future</code></td>
<td>被注释的元素必须是一个将来的日期</td>
</tr>
<tr>
<td><code>@Pattern(value)</code></td>
<td>被注释的元素必须符合指定的正则表达式</td>
</tr>
</tbody>
</table>
<h5 id="表-2-Hibernate-Validator-附加的-constraint"><a href="#表-2-Hibernate-Validator-附加的-constraint" class="headerlink" title="表 2. Hibernate Validator 附加的 constraint"></a>表 2. Hibernate Validator 附加的 constraint</h5><table>
<thead>
<tr>
<th><strong>Constraint</strong></th>
<th><strong>详细信息</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Email</code></td>
<td>被注释的元素必须是电子邮箱地址</td>
</tr>
<tr>
<td><code>@Length</code></td>
<td>被注释的字符串的大小必须在指定的范围内</td>
</tr>
<tr>
<td><code>@NotEmpty</code></td>
<td>被注释的字符串的必须非空</td>
</tr>
<tr>
<td><code>@Range</code></td>
<td>被注释的元素必须在合适的范围内</td>
</tr>
</tbody>
</table>
<blockquote>
<p><code>@Valid</code> - 注释要求要对该参数/变量通过校验器进行校验**</p>
</blockquote>
<p>Spring一旦发现<code>@Valid</code>注解, 就会根据<strong>被注解类中的注解规则</strong>进行数据校验, 所以如果当数据不符合校验规则, 会出现如下错误提示：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Whitelabel Error PageThis application has no explicit mapping for /error, so you are seeing this as a fallback.Fri Aug 21 10:09:54 CST 2015There was an unexpected error (type=Bad Request, status=400).Validation failed for object='post'. Error count: 2</span><br></pre></td></tr></table></figure>
<p>但为了让用户体验更加良好, 我们需要将自定义的错误页面呈现出来, 以下为有错误时的处理代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/"</span>, method = RequestMethod.POST)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">create</span><span class="params">(@Valid Demo demo, BindingResult result)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (result.hasErrors()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">"demo"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>@ControllerAdvice</p>
<p>可视为一种增强版拦截器. 能把@ControllerAdvice注解内部所使用的@ExceptionHandler、@InitBinder、@ModelAttribute注解的方法应用到所有(或特定)的 @RequestMapping注解的方法. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalDefaultExceptionHandler</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">  	<span class="comment">// 可返回任意数据/页面, 与Controller同样用法</span></span><br><span class="line">  	<span class="meta">@ExceptionHanlder</span>(value=Exception.class)</span><br><span class="line">  	<span class="function"><span class="keyword">public</span> voud <span class="title">defaultErrorHandler</span><span class="params">(HttpServletRequest req, Exception e)</span> </span>&#123;</span><br><span class="line">      	e.printStackTrace();</span><br><span class="line">      	System.out.println(<span class="string">"GlobalDefaultExceptionHandler.defaultErrorHandler() raise"</span>);</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>默认情况 - 全局拦截</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>仅在内部添加字符串(不声明属性名) - 作用于指定的包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span>(<span class="string">"com.example.contoller"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>assignableTypes - 作用于指定的类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span>(assignableTypes=&#123;ControllerA.class, ControllerB.class&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>annotations - 作用于指定的注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span>(annotations=RestController.class)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p>@ManyToOne 与 @OneToMany</p>
<p>@ManyToOne 从字面意思可知为 多对一, @OneToMany 为 一对多. </p>
<p>以上解释好比于书单与图书的关系, 一张书单可以对应多本不同图书, 一本图书可以对应多张书单. JPA通过其中的映射关系将获取的值注入到被注释的变量中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">  	<span class="meta">@Id</span></span><br><span class="line">  	<span class="meta">@GeneratedValue</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/*  </span></span><br><span class="line"><span class="comment">     * @OneToMany: 指明Order与OrderItem关联关系为一对多关系 </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * mappedBy: 定义类之间的双向关系. 如果类之间是单向关系, 不需要提供定义, 如果类和类之间形成双向关系, 我们就需要使用这个属性进行定义, 否则可能引起数据一致性的问题.  </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * cascade: CascadeType[]类型. 该属性定义类和类之间的级联关系. 定义的级联关系将被容器视为对当前类对象及其关联类对象采取相同的操作,  </span></span><br><span class="line"><span class="comment">     * 而且这种关系是递归调用的. 举个例子：Order 和OrderItem有级联关系, 那么删除Order 时将同时删除它所对应的OrderItem对象.  </span></span><br><span class="line"><span class="comment">     * 而如果OrderItem还和其他的对象之间有级联关系, 那么这样的操作会一直递归执行下去. cascade的值只能从CascadeType.PERSIST（级联新建）、CascadeType.REMOVE（级联删除）、CascadeType.REFRESH（级联刷新）、CascadeType.MERGE（级联更新）中选择一个或多个.  </span></span><br><span class="line"><span class="comment">     * 还有一个选择是使用CascadeType.ALL, 表示选择全部四项.  </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * fatch: 可选择项包括：FetchType.EAGER 和FetchType.LAZY. 前者表示关系类(本例是OrderItem类)在主类(本例是Order类)加载的时候同时加载; 后者表示关系类在被访问时才加载,默认值是FetchType.LAZY.  </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">  	<span class="meta">@OneToMany</span>(mappedBy=<span class="string">"order"</span>, cascade=CascadeType.ALL, fetch=FetchType.LAZY)</span><br><span class="line">  	<span class="meta">@Order</span>(value=<span class="string">"id ASC"</span>)</span><br><span class="line">  	<span class="keyword">private</span> List&lt;OrderItem&gt; OrderItems;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderItem</span> </span>&#123;</span><br><span class="line">  	<span class="meta">@Id</span></span><br><span class="line">  	<span class="meta">@GeneratedValue</span></span><br><span class="line">  	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">     * @ManyToOne指明OrderItem和Order之间为多对一关系, 多个OrderItem实例关联的都是同一个Order对象.  </span></span><br><span class="line"><span class="comment">     * 其中的属性和@OneToMany基本一样, 但@ManyToOne注释的fetch属性默认值是FetchType.EAGER.  </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * optional 属性是定义该关联类对是否必须存在.  </span></span><br><span class="line"><span class="comment">     * 值为false时, 关联类双方都必须存在, 如果关系被维护端不存在, 查询的结果为null.  </span></span><br><span class="line"><span class="comment">     * 值为true 时, 关系被维护端可以不存在, 查询的结果仍然会返回关系维护端, 在关系维护端中指向关系被维护端的属性为null.  </span></span><br><span class="line"><span class="comment">     * optional 属性的默认值是true. 举个例：某项订单(Order)中没有订单项(OrderItem), 如果optional 属性设置为false, 获取该项订单（Order）时, 得到的结果为null, 如果optional 属性设置为true, 仍然可以获取该项订单, 但订单中指向订单项的属性为null.  </span></span><br><span class="line"><span class="comment">     * 实际上在解释Order与OrderItem的关系成SQL时, optional 属性指定了他们的联接关系optional=false联接关系为inner join,  </span></span><br><span class="line"><span class="comment">     * optional=true联接关系为left join.  </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @JoinColumn:指明了被维护端（OrderItem）的外键字段为order_id, 它和维护端的主键(order_id)连接, unique=true指明order_id列的值不可重复.  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">	<span class="meta">@ManyToOne</span>(cascade=CascadeType.REFRESH, optional=<span class="keyword">false</span>)  </span><br><span class="line">	<span class="meta">@JoinColumn</span>(name=<span class="string">"order_id"</span>, referencedColumnName=<span class="string">"order_id"</span>)  </span><br><span class="line">	<span class="keyword">private</span> Order order;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>@Transactional</p>
<p>表明指定类(通常为Service类)下的所有方法或表明某些指定的方法需要进行事务管理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoServiceImpl</span> <span class="keyword">implements</span> <span class="title">DemoService</span> </span>&#123;</span><br><span class="line">	...  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Transactional注解中常用参数说明"><a href="#Transactional注解中常用参数说明" class="headerlink" title="Transactional注解中常用参数说明"></a><strong>Transactional注解中常用参数说明</strong></h1><table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>功能描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>readOnly</strong></td>
<td>该属性用于设置当前事务是否为只读事务，设置为true表示只读，false则表示可读写，默认值为false。例如：@Transactional(readOnly=true)</td>
</tr>
<tr>
<td><strong>rollbackFor</strong></td>
<td>该属性用于设置需要进行回滚的异常类数组，当方法中抛出指定异常数组中的异常时，则进行事务回滚。例如：指定单一异常类：@Transactional(rollbackFor=RuntimeException.class)指定多个异常类：@Transactional(rollbackFor={RuntimeException.class, Exception.class})</td>
</tr>
<tr>
<td><strong>rollbackForClassName</strong></td>
<td>该属性用于设置需要进行回滚的异常类名称数组，当方法中抛出指定异常名称数组中的异常时，则进行事务回滚。例如：指定单一异常类名称：@Transactional(rollbackForClassName=”RuntimeException”)指定多个异常类名称：@Transactional(rollbackForClassName={“RuntimeException”,”Exception”})</td>
</tr>
<tr>
<td><strong>noRollbackFor</strong></td>
<td>该属性用于设置不需要进行回滚的异常类数组，当方法中抛出指定异常数组中的异常时，不进行事务回滚。例如：指定单一异常类：@Transactional(noRollbackFor=RuntimeException.class)指定多个异常类：@Transactional(noRollbackFor={RuntimeException.class, Exception.class})</td>
</tr>
<tr>
<td><strong>noRollbackForClassName</strong></td>
<td>该属性用于设置不需要进行回滚的异常类名称数组，当方法中抛出指定异常名称数组中的异常时，不进行事务回滚。例如：指定单一异常类名称：@Transactional(noRollbackForClassName=”RuntimeException”)指定多个异常类名称：@Transactional(noRollbackForClassName={“RuntimeException”,”Exception”})</td>
</tr>
<tr>
<td><strong>propagation</strong></td>
<td>该属性用于设置事务的传播行为, 例如：@Transactional(propagation=Propagation.NOT_SUPPORTED,readOnly=true)</td>
</tr>
<tr>
<td><strong>isolation</strong></td>
<td>该属性用于设置底层数据库的事务隔离级别，事务隔离级别用于处理多事务并发的情况，通常使用数据库的默认隔离级别即可，基本不需要进行设置</td>
</tr>
<tr>
<td><strong>timeout</strong></td>
<td>该属性用于设置事务的超时秒数，默认值为-1表示永不超时</td>
</tr>
</tbody>
</table>
<ul>
<li>propagation<ul>
<li>@Transactional(propagation=Propagation.REQUIRED) ：如果有事务, 那么加入事务, 没有的话新建一个(默认情况下)</li>
<li>@Transactional(propagation=Propagation.NOT_SUPPORTED) ：容器不为这个方法开启事</li>
<li>@Transactional(propagation=Propagation.REQUIRES_NEW) ：不管是否存在事务,都创建一个新的事务,原来的挂起,新的执行完毕,继续执行老的事务</li>
<li>@Transactional(propagation=Propagation.MANDATORY) ：必须在一个已有的事务中执行,否则抛出异常</li>
<li>@Transactional(propagation=Propagation.NEVER) ：必须在一个没有的事务中执行,否则抛出异常(与Propagation.MANDATORY相反)</li>
<li>@Transactional(propagation=Propagation.SUPPORTS) ：如果其他bean调用这个方法,在其他bean中声明事务,那就用事务.如果其他bean没有声明事务,那就不用事务.</li>
</ul>
</li>
</ul>
<hr>
<p>@Async - 异步</p>
<hr>
<p>@Cacheable 创建</p>
<p>@CachePut 更新</p>
<p>@CacheEvict 删除</p>
<hr>
<p>@Scheduled</p>
<hr>
<p>@NamedQuery</p>
<hr>
<p>@Modifying</p>
<p>@Query</p>
<hr>
<p>@EnableEurekaClient</p>
<p>@EnableDiscoveryClient</p>
<hr>
<p>@Profile</p>
<hr>
<p>参考文章:</p>
<p>[1] <a href="http://www.importnew.com/18561.html" target="_blank" rel="noopener">http://www.importnew.com/18561.html</a></p>
<p>[2] <a href="https://www.ibm.com/developerworks/cn/java/j-lo-jsr303/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/java/j-lo-jsr303/</a></p>
<p>[3] <a href="https://course.tianmaying.com/web-development+form-validation#0" target="_blank" rel="noopener">https://course.tianmaying.com/web-development+form-validation#0</a></p>
<p>[4] <a href="http://blog.longjiazuo.com/archives/1366" target="_blank" rel="noopener">http://blog.longjiazuo.com/archives/1366</a></p>
<p>[5] <a href="http://jinnianshilongnian.iteye.com/blog/1866350" target="_blank" rel="noopener">http://jinnianshilongnian.iteye.com/blog/1866350</a></p>
<p>[6] <a href="http://lym6520.iteye.com/blog/312125" target="_blank" rel="noopener">http://lym6520.iteye.com/blog/312125</a></p>
<p>[7] <a href="http://www.cnblogs.com/caoyc/p/5632963.html" target="_blank" rel="noopener">http://www.cnblogs.com/caoyc/p/5632963.html</a></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects_url">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean-Validation-中的-constraint"><span class="toc-number">1.</span> <span class="toc-text">Bean Validation 中的 constraint</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#表-1-Bean-Validation-中内置的-constraint"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">表 1. Bean Validation 中内置的 constraint</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#表-2-Hibernate-Validator-附加的-constraint"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">表 2. Hibernate Validator 附加的 constraint</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Transactional注解中常用参数说明"><span class="toc-number"></span> <span class="toc-text">Transactional注解中常用参数说明</span></a>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://apparition957.github.io/2017/02/27/Spring框架中的注解/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&text=Spring框架中的注解"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&is_video=false&description=Spring框架中的注解"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Spring框架中的注解&body=Check out this article: http://apparition957.github.io/2017/02/27/Spring框架中的注解/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&title=Spring框架中的注解"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&name=Spring框架中的注解&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://apparition957.github.io/2017/02/27/Spring框架中的注解/&t=Spring框架中的注解"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 apparition957
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects_url">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
